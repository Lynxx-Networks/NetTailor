# Baseline Config

### Vars needed
client_name
os-version
hostname
tacacs-server
tacacs-key
ise-server
timezone
boot_bin
switch_number
model
vtp_domain
auvik_collector
crypto_auth_block
vlan_range
encrypted_user_pass
vlan_definitions
pim_address
ntp_server
snmp-ip
snmp-servername

### Current Config

version {os-version}
service timestamps debug datetime msec
service timestamps log datetime msec
service call-home
platform punt-keepalive disable-kernel-core
hostname {hostname}
!
! (This seems probably fine for anywhere)
vrf definition {client_name}-vrf
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
logging console emergencies
aaa new-model
!
aaa group server tacacs+ {tacacs-server}
 server name {ise-server}
 ip tacacs source-interface Loopback254
!
aaa authentication login default group {tacacs-server} local
aaa authentication enable default group {tacacs-server} enable
!
aaa session-id common
clock timezone {timezone}
clock summer-time cdt recurring
!
boot system switch all flash:{boot_bin}
!
! Provision Block - Depending on number of switches
switch {switch_number} provision {model}
!
! (Are these both needed? Do they change?)
ip routing
no ip cef optimize neighbor resolution
!
login on-success log
udld enable
!
! (vtp domain? What is this?)
vtp domain {vtp_domain}
vtp mode transparent
!
! I assume we want netflow for auvik?
flow record Record-FNF
 description Flexible NetFlow Monitoring
 match ipv4 tos
 match ipv4 protocol
 match ipv4 source address
 match ipv4 destination address
 match transport source-port
 match transport destination-port
 collect counter bytes long
 collect counter packets long
!
flow exporter Export-FNF-Monitor-1
 description FNFv9 NBAR2 with Auvik
 destination {auvik_collector}
 source Loopback254
 transport udp 2055
 template data timeout 60
 option interface-table
 option application-table
!
flow monitor Monitor-FNF
 description IWAN Traffc Analysis
 exporter Export-FNF-Monitor-1
 cache timeout active 60
 record Record-FNF
!
authentication mac-move permit
!
table-map AutoQos-4.0-Trust-Dscp-Table
 default copy
table-map policed-dscp
 map from  0 to 8
 map from  10 to 8
 map from  18 to 8
 map from  24 to 8
 map from  46 to 8
 default copy
!
{crypto_auth_block}
!
license boot level network-essentials addon dna-essentials
memory free low-watermark processor 131696
!
diagnostic bootup level minimal
!
! (How would these vary? Just depending on the vlan ids that we use?)
spanning-tree mode rapid-pvst
spanning-tree extend system-id
spanning-tree vlan {vlan_range} priority 0
!
! (Why secret 9?)
enable secret 9 {encrypted_enable_pass}
! (Probably 3rtadmin?)
username {baseline_admin} privilege 15 secret 9 {encrypted_user_pass}
!
redundancy
 mode sso
crypto engine compliance shield disable
!
transceiver type all
 monitoring
!
! The vlan definitions would look like this
! vlan 100
!  name Data
!
{vlan_definitions}
!
{class_map_definitions}
!
{policy_map_defintions}
!
{interface_definitions}
!
!
interface Vlan1
 no ip address
!
! What are the helper addresses? DHCP Servers?
! What's a join group? Do we care about that?
{vlan-definition}
!
{router-definitions}
!
ip forward-protocol nd
no ip http server
no ip http secure-server
!
! (What is this?)
ip pim rp-address {pim_address}
!
{ip_routes}
!
! (Well this seems secure - What do we need for acls?)
ip access-list extended AutoQos-4.0-Acl-Default
 10 permit ip any any
!
ip sla enable reaction-alerts
logging trap notifications
logging source-interface Loopback254
logging host {auvik_collector}
!
{custom_snmp_config}
snmp-server enable traps snmp authentication linkdown linkup coldstart warmstart
snmp-server enable traps tty
snmp-server enable traps eigrp
snmp-server enable traps license
snmp-server enable traps auth-framework sec-violation
snmp-server enable traps config-copy
snmp-server enable traps config
snmp-server enable traps config-ctid
snmp-server enable traps energywise
snmp-server enable traps fru-ctrl
snmp-server enable traps entity
snmp-server enable traps flash insertion
snmp-server enable traps flash removal
snmp-server enable traps power-ethernet group 1 threshold 80
snmp-server enable traps power-ethernet group 2 threshold 80
snmp-server enable traps power-ethernet group 3 threshold 80
snmp-server enable traps power-ethernet group 4 threshold 80
snmp-server enable traps power-ethernet group 5 threshold 80
snmp-server enable traps power-ethernet group 6 threshold 80
snmp-server enable traps power-ethernet group 7 threshold 80
snmp-server enable traps power-ethernet group 8 threshold 80
snmp-server enable traps power-ethernet group 11 threshold 80
snmp-server enable traps power-ethernet police
snmp-server enable traps cpu threshold
snmp-server enable traps syslog
snmp-server enable traps vtp
snmp-server enable traps vlancreate
snmp-server enable traps vlandelete
snmp-server enable traps port-security
snmp-server enable traps envmon fan shutdown supply temperature status
snmp-server enable traps stackwise
snmp-server enable traps ipsla
snmp-server enable traps event-manager
snmp-server enable traps ipmulticast
snmp-server enable traps pim neighbor-change rp-mapping-change invalid-pim-message
snmp-server enable traps bridge newroot topologychange
snmp-server enable traps stpx inconsistency root-inconsistency loop-inconsistency
snmp-server enable traps mac-notification change move threshold
snmp-server enable traps errdisable
snmp-server enable traps vlan-membership
snmp-server enable traps transceiver all
! (auvik collector?)
snmp-server host {snmp-ip} version 2c {snmp-servername}
!
! (Does the tacacs server stuff change?)
tacacs-server timeout 60
tacacs server {tacacs-server}
 address ipv4 {tacacs-ip}
 key 7 {tacacs-key}
!
control-plane
 service-policy input system-cpp-policy
!
banner motd ^CC
* *************************************************************************
*                                                                         *
* WARNING: This system is for the use of authorized {client_name}         *
* personnel and consultants only!!                                        *              *
*                                                                         *
* Individuals using the computer network system without authorization,    *
* or in excess of their authorization, are subject to having all their    *
* activity on this computer network system monitored and recorded by      *
* system personnel.  To protect the computer network system from          *
* unauthorized use and to ensure the computer network systems is          *
* functioning properly, system administrators monitor this system.        *
* Anyone using this computer network system expressly consents to such    *
* monitoring and is advised that if such monitoring reveals possible      *
* conduct of criminal activity, system personnel may provide the          *
* evidence of such activity to law enforcement officers.                  *
*                                                                         *
* Access is restricted to authorized users only. Unauthorized access is   *
* a violation of state and federal, civil and criminal laws.              *
***************************************************************************
^C
!
line con 0
 exec-timeout 0 0
 password 7 {console_pw}
 logging synchronous
 stopbits 1
line vty 0 4
 logging synchronous
 transport input ssh
line vty 5 15
 logging synchronous
 login authentication local_auth
 transport input ssh
line vty 16 31
 transport input ssh
!
call-home
 ! If contact email address in call-home is configured as sch-smart-licensing@cisco.com
 ! the email address configured in Cisco Smart License Portal will be used as contact email address to send SCH notifications.
 contact-email-addr sch-smart-licensing@cisco.com
 profile "CiscoTAC-1"
  active
  destination transport-method http
ntp server {ntp_server} prefer
!
!
!
!
!
!
end